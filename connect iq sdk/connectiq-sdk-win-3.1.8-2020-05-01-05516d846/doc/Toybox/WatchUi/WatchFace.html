<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Toybox::WatchUi::WatchFace
  
    &mdash; Connect IQ SDK
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Toybox::WatchUi::WatchFace";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (W)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Toybox.html" title="Toybox (module)">Toybox</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../WatchUi.html" title="Toybox::WatchUi (module)">WatchUi</a></span></span>
     &raquo; 
    <span class="title">WatchFace</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="../../class_list.html"></iframe>

      <div id="content"><h1>Class: Toybox::WatchUi::WatchFace
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="View.html" title="Toybox::WatchUi::View (class)">View</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../Lang/Object.html" title="Toybox::Lang::Object (class)">Lang::Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="View.html" title="Toybox::WatchUi::View (class)">View</a></span></li>
          
            <li class="next">Toybox::WatchUi::WatchFace</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Create a Watch Face that supports exiting/entering low power mode.</p>

<p>A WatchFace is a special View that provides notifications when the device
changes power states.</p>

<p>A WatchFace will run in a high power mode for a short period when
responding to a gesture (i.e., raising the watch to check the time) or when
returning to the watch face from another application. While in high power
mode, the watch face will perform full screen updates every second via
calls to <span class='object_link'><a href="View.html#onUpdate-instance_method" title="Toybox::WatchUi::View#onUpdate (method)">onUpdate()</a></span>, and the application
will have access to timers and animations.</p>

<p>After this period in high power mode (typically about ten seconds), the
system will call <span class='object_link'><a href="#onEnterSleep-instance_method" title="Toybox::WatchUi::WatchFace#onEnterSleep (method)">onEnterSleep()</a></span>
to notify the application that it is preparing to enter low power mode.</p>

<p>During low power mode the system will call <span class='object_link'><a href="View.html#onUpdate-instance_method" title="Toybox::WatchUi::View#onUpdate (method)">onUpdate()</a></span> at the top of every minute. If partial update support is
available, the <span class='object_link'><a href="#onPartialUpdate-instance_method" title="Toybox::WatchUi::WatchFace#onPartialUpdate (method)">onPartialUpdate()</a></span> method will be called for the first 59 seconds of every
minute. The application will not have access to timers or aimations while
in low power mode.</p>

<p>When a gesture occurs while running in low power mode the system will call
<span class='object_link'><a href="#onExitSleep-instance_method" title="Toybox::WatchUi::WatchFace#onExitSleep (method)">onExitSleep()</a></span> to notify the
application that the transition to high power mode has occurred.</p>

<p>The initial view of a watch face application <code>must</code> extend
<span class='object_link'><a href="" title="Toybox::WatchUi::WatchFace (class)">WatchFace</a></span>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)"><strong>initialize</strong>  &#x21d2; WatchFace </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of WatchFace.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#onEnterSleep-instance_method" title="#onEnterSleep (instance method)"><strong>onEnterSleep</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The device is entering low power mode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#onExitSleep-instance_method" title="#onExitSleep (instance method)"><strong>onExitSleep</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The device is exiting low power mode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#onPartialUpdate-instance_method" title="#onPartialUpdate (instance method)"><strong>onPartialUpdate</strong>(dc)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Update a portion of the screen.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="View.html" title="Toybox::WatchUi::View (class)">View</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="View.html#addLayer-instance_method" title="Toybox::WatchUi::View#addLayer (method)">addLayer</a></span>, <span class='object_link'><a href="View.html#clearLayers-instance_method" title="Toybox::WatchUi::View#clearLayers (method)">clearLayers</a></span>, <span class='object_link'><a href="View.html#findDrawableById-instance_method" title="Toybox::WatchUi::View#findDrawableById (method)">findDrawableById</a></span>, <span class='object_link'><a href="View.html#getLayerIndex-instance_method" title="Toybox::WatchUi::View#getLayerIndex (method)">getLayerIndex</a></span>, <span class='object_link'><a href="View.html#getLayers-instance_method" title="Toybox::WatchUi::View#getLayers (method)">getLayers</a></span>, <span class='object_link'><a href="View.html#insertLayer-instance_method" title="Toybox::WatchUi::View#insertLayer (method)">insertLayer</a></span>, <span class='object_link'><a href="View.html#onHide-instance_method" title="Toybox::WatchUi::View#onHide (method)">onHide</a></span>, <span class='object_link'><a href="View.html#onLayout-instance_method" title="Toybox::WatchUi::View#onLayout (method)">onLayout</a></span>, <span class='object_link'><a href="View.html#onShow-instance_method" title="Toybox::WatchUi::View#onShow (method)">onShow</a></span>, <span class='object_link'><a href="View.html#onUpdate-instance_method" title="Toybox::WatchUi::View#onUpdate (method)">onUpdate</a></span>, <span class='object_link'><a href="View.html#removeLayer-instance_method" title="Toybox::WatchUi::View#removeLayer (method)">removeLayer</a></span>, <span class='object_link'><a href="View.html#setKeyToSelectableInteraction-instance_method" title="Toybox::WatchUi::View#setKeyToSelectableInteraction (method)">setKeyToSelectableInteraction</a></span>, <span class='object_link'><a href="View.html#setLayout-instance_method" title="Toybox::WatchUi::View#setLayout (method)">setLayout</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../Lang/Object.html" title="Toybox::Lang::Object (class)">Lang::Object</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Lang/Object.html#equals-instance_method" title="Toybox::Lang::Object#equals (method)">equals</a></span>, <span class='object_link'><a href="../Lang/Object.html#hashCode-instance_method" title="Toybox::Lang::Object#hashCode (method)">hashCode</a></span>, <span class='object_link'><a href="../Lang/Object.html#method-instance_method" title="Toybox::Lang::Object#method (method)">method</a></span>, <span class='object_link'><a href="../Lang/Object.html#toString-instance_method" title="Toybox::Lang::Object#toString (method)">toString</a></span>, <span class='object_link'><a href="../Lang/Object.html#weak-instance_method" title="Toybox::Lang::Object#weak (method)">weak</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    <strong>initialize</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="Toybox::WatchUi::WatchFace (class)">WatchFace</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of WatchFace</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13933
13934</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Monkeybrains.rb', line 13933</span>

def initialize()
end</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="onEnterSleep-instance_method">
  
    <strong>onEnterSleep</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The device is entering low power mode.</p>

<p>Terminate any active timers and prepare for once-per-minute updates.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="" title="Toybox::WatchUi::WatchFace (class)">Toybox::WatchUi::WatchFace</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13941
13942</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Monkeybrains.rb', line 13941</span>

def onEnterSleep()
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="onExitSleep-instance_method">
  
    <strong>onExitSleep</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The device is exiting low power mode.</p>

<p>Timers and animations may be started here in preparation for
once-per-second updates.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="" title="Toybox::WatchUi::WatchFace (class)">Toybox::WatchUi::WatchFace</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13950
13951</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Monkeybrains.rb', line 13950</span>

def onExitSleep()
end</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="onPartialUpdate-instance_method">
  
    <strong>onPartialUpdate</strong>(dc)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>See the Analog sample distributed with the SDK for an example of
onPartialUpdate() using clipping regions</p>
</div>
  </div>


<p>Update a portion of the screen.</p>

<p>Partial updates can be used to update a small part of the screen to allow
for Always On Watch Faces.</p>

<p>This method is called each second as long as the device power budget is not
exceeded. It is important to update as small of a portion of the display as
possible in this method to avoid exceeding the allowed power budget. To do
this, the application must set the clipping region for the
<span class='object_link'><a href="../Graphics/Dc.html" title="Toybox::Graphics::Dc (class)">Graphics.Dc</a></span> object using the
<span class='object_link'><a href="../Graphics/Dc.html#setClip-instance_method" title="Toybox::Graphics::Dc#setClip (method)">setClip()</a></span> method. Calls to
<span class='object_link'><a href="../System.html#println-instance_method" title="Toybox::System#println (method)">System.println()</a></span> and <span class='object_link'><a href="../System.html#print-instance_method" title="Toybox::System#print (method)">System.print()</a></span> will not execute on devices when this function is being
invoked, but can be used in the device simulator.</p>

<p>If the call to this method exceeds the power budget of the device, the
partial update will not draw and a call to
<span class='object_link'><a href="WatchFaceDelegate.html#onPowerBudgetExceeded-instance_method" title="Toybox::WatchUi::WatchFaceDelegate#onPowerBudgetExceeded (method)">onPowerBudgetExceeded()</a></span> is made to report the limits that were exceeded.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dc</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Graphics/Dc.html" title="Toybox::Graphics::Dc (class)">Toybox::Graphics::Dc</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The device context</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="WatchFaceDelegate.html" title="Toybox::WatchUi::WatchFaceDelegate (class)">Toybox::WatchUi::WatchFaceDelegate</a></span></li>
    
      <li><span class='object_link'><a href="WatchFaceDelegate.html#onPowerBudgetExceeded-instance_method" title="Toybox::WatchUi::WatchFaceDelegate#onPowerBudgetExceeded (method)">WatchFaceDelegate.onPowerBudgetExceeded()</a></span></li>
    
      <li><span class='object_link'><a href="View.html#onUpdate-instance_method" title="Toybox::WatchUi::View#onUpdate (method)">View.onUpdate()</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>2.3.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13979
13980</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'Monkeybrains.rb', line 13979</span>

def onPartialUpdate(dc)
end</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri May  1 07:41:46 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.1.5).
</div>

    </div>
  </body>
</html>